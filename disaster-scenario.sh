#!/bin/bash
# Simulazione di un deploy senza Jenkins - PERICOLOSO!

echo "🚨 DANGER: Manual deployment without Jenkins validation!"
echo "======================================================"

echo "👨‍💻 Developer: 'Il mio codice funziona sul mio laptop, shipiamo!'"
echo "🚢 Deploying to production..."

# Simula deploy in produzione senza test
echo "📦 Packaging application..."
sleep 1
echo "🚀 Deploying to production servers..."
sleep 2
echo "✅ Deployment complete!"

echo ""
echo "⏰ 5 minutes later..."
echo "📞 RING! RING! Phone call from customer..."
echo "😡 Customer: 'The calculator is broken! 3*4 shows 7 instead of 12!'"

echo ""
echo "🚨 PRODUCTION INCIDENT!"
echo "📊 Impact Assessment:"
echo "   • 10,000 users affected"
echo "   • Calculator returning wrong results" 
echo "   • E-commerce orders with wrong totals"
echo "   • Revenue loss: $50,000/hour"

echo ""
echo "🏃‍♂️ Emergency Response Team Activated:"
echo "   • All developers called back from weekend"
echo "   • CEO asking for explanations"
echo "   • Customer support overwhelmed"
echo "   • Social media negative feedback spreading"

echo ""
echo "⚡ Emergency Hotfix Process:"
echo "   1. Find the bug (30 minutes)"
echo "   2. Fix the bug (10 minutes)" 
echo "   3. Test manually (20 minutes)"
echo "   4. Emergency deploy (15 minutes)"
echo "   5. Verify fix works (10 minutes)"
echo "   📊 Total downtime: 85 minutes"
echo "   💰 Total cost: $70,000"

echo ""
echo "📋 Post-Incident Review:"
echo "   • Root cause: Missing multiplication test"
echo "   • Action item: 'We need better testing'"
echo "   • Decision: 'Let's implement Jenkins CI/CD'"

echo ""
echo "🎓 LESSON LEARNED:"
echo "A simple 2-minute automated test could have prevented"
echo "a $70,000 production incident!"
